<!DOCTYPE html>
<html>
    <head>
        <title>Registrar Evento</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    </head>
    <body>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">Registar Evento</div>
                        <div class="card-body">
                            <form method="POST" action="EventoServlet?accion=guardar">
                                <div class="form-group row">
                                    <label for="nombreEvento" 
                                           class="col-md-4 col-form-label text-md-right">
                                        Nombre Evento
                                    </label>
                                    <div class="col-md-6">
                                        <input 
                                            id="nombreEvento" 
                                            type="text" 
                                            class="form-control "
                                            name="nombreEvento" 
                                            placeholder="Nombre Evento" 
                                            required 
                                            autofocus />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="sede" 
                                           class="col-md-4 col-form-label text-md-right">
                                        Sede Evento
                                    </label>
                                    <div class="col-md-6">
                                        <input 
                                            id="sede" 
                                            type="text" 
                                            class="form-control "
                                            name="sede" 
                                            placeholder="Sede"
                                            required 
                                            autofocus />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="fechaInicio" 
                                            class="col-md-4 col-form-label text-md-right">
                                                Fecha Inicio
                                    </label>
                                    <div class="col-md-6">
                                        <input 
                                            class="form-control" 
                                            type="date"
                                            onChange="minTermino()"
                                            name="fechaInicio"
                                            id="fechaInicio"
                                            required />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="fechaTermino" 
                                            class="col-md-4 col-form-label text-md-right">
                                                Fecha Término
                                    </label>
                                    <div class="col-md-6">
                                        <input 
                                            class="form-control" 
                                            type="date" 
                                            name="fechaTermino"
                                            id="fechaTermino"
                                            required />
                                    </div>
                                </div>
                                <div class="form-group row mb-0">
                                    <div class="col-md-6 offset-md-4">
                                        <button type="submit" class="btn btn-primary">
                                            Registrar                              
                                        </button>
                                        <button onclick="window.location.href='EventoServlet?accion=listaDeEventos'" class="btn btn-danger">
                                            Cancelar                              
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            var fechaInicio = document.getElementById("fechaInicio");
            var fechaTermino = document.getElementById("fechaTermino");

            //Obtiene la fecha de hoy
            var today = new Date();
            var dd = today.getDate();
            var mm = today.getMonth()+1; 
            var yyyy = today.getFullYear();
             if(dd<10){
                    dd='0'+dd;
                } 
                if(mm<10){
                    mm='0'+mm;
                } 

            today = yyyy+'-'+mm+'-'+dd;

            fechaInicio.setAttribute("min", today);
            fechaTermino.setAttribute("min", today);


            //Cambia la fecha mínima de fechaTermino cada que fechaInicio cambia
            function minTermino(){
                var max = fechaInicio.value;

                fechaTermino.setAttribute("min", max);
            }
        </script>
    </body>
</html>